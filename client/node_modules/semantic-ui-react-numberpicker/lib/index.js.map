{"version":3,"sources":["../src/index.js"],"names":["DECREASE_VALUE","INCREASE_VALUE","NumberPicker","createClass","getDefaultProps","placeholder","min","max","maxLength","step","required","basic","circular","compact","propTypes","name","PropTypes","string","isRequired","value","any","onChange","func","number","bool","getInitialState","touched","buffer","handleAction","event","v","actionFilter","currentTarget","currentValue","replace","setVal","isFinite","parseFloat","props","console","log","target","stepSize","parsedVal","state","lastChar","charAt","length","returnValue","precision","Math","floor","setTimeout","validateInput","style","default","input","borderRadius","textAlign","buttonLeft","borderTopRightRadius","borderBottomRightRadius","margin","buttonRight","borderTopLeftRadius","borderBottomLeftRadius","marginRight","marginLeft","render","display"],"mappings":"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","file":"index.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport {render} from 'react-dom'\r\nimport _ from \"lodash\";\r\nimport {Button, Form, Input} from \"semantic-ui-react\";\r\n\r\n\r\nexport const DECREASE_VALUE = 'DECREASE_VALUE';\r\nexport const INCREASE_VALUE = 'INCREASE_VALUE';\r\n\r\n/*\r\n USAGE EXAMPLES:\r\n <Form.Field inline control={NumberPicker} name={MULTIPLY_INPUT + \".times\"} onChange={this.triggerChange} label=\"Copies to create\" defaultValue={1} min={1} max={999} placeholder=\"Repeat ...\" />\r\n <Form.Field width=\"8\" control={NumberPicker} compact label=\"compact buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\r\n <Form.Field width=\"8\" control={NumberPicker} circular label=\"circular buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\r\n <Form.Field width=\"8\" control={NumberPicker} basic label=\"basic buttons\" placeholder=\"Enter a number\" defaultValue={4} min={-40} max={40} step={2} />\r\n\r\n */\r\nconst NumberPicker = React.createClass({\r\n    getDefaultProps: function () {\r\n        return {\r\n            placeholder: \"Enter a number\",\r\n            /*\r\n             Limiting min, max value to 1e10 to prevent javascript to switch into scientific notation\r\n             */\r\n            min: 1e10 * -1,\r\n            max: 1e10,\r\n            maxLength: 10,\r\n            step: 1,\r\n            required: false,\r\n            basic: false,\r\n            circular: false,\r\n            compact: false\r\n        };\r\n    },\r\n    propTypes: {\r\n        name: React.PropTypes.string.isRequired,\r\n        value: React.PropTypes.any.isRequired,\r\n        onChange: React.PropTypes.func.isRequired,\r\n        placeholder: React.PropTypes.string,\r\n        min: React.PropTypes.number,\r\n        max: React.PropTypes.number,\r\n        step: React.PropTypes.number,\r\n        maxLength: React.PropTypes.number,\r\n        required: React.PropTypes.bool,\r\n        basic: React.PropTypes.bool,\r\n        circular: React.PropTypes.bool,\r\n        compact: React.PropTypes.bool\r\n    },\r\n    getInitialState: function () {\r\n        return {\r\n            touched: false,\r\n            buffer: {}\r\n        };\r\n    },\r\n    handleAction: function (event, v) {\r\n        let actionFilter = event.currentTarget.name;\r\n        let currentValue = event.currentTarget.value.replace(\",\", \".\");\r\n\r\n        var setVal = (_.isFinite(parseFloat(this.props.value))) ? parseFloat(this.props.value) : null;\r\n        console.log(\"handleAction\", actionFilter, currentValue, this.props.value, setVal, event, event.target.value, v);\r\n        console.log(\"props.value\", this.props.value);\r\n        console.log(\"currentValue\", currentValue);\r\n        console.log(\"setVal\", setVal);\r\n        let stepSize = (_.isFinite(parseFloat(this.props.step))) ? parseFloat(this.props.step) : 1;\r\n        switch (actionFilter) {\r\n            case DECREASE_VALUE:\r\n                if (this.props.value - stepSize >= this.props.min)\r\n                    setVal -= stepSize;\r\n                else\r\n                    setVal = this.props.min;\r\n\r\n                break;\r\n            case INCREASE_VALUE:\r\n                console.log(\"validation increase\", (setVal + stepSize <= this.props.max), setVal, this.props.value, stepSize);\r\n                if (setVal + stepSize <= this.props.max)\r\n                    setVal += stepSize;\r\n                else\r\n                    setVal = this.props.max;\r\n\r\n                break;\r\n            case this.props.name:\r\n                let parsedVal = parseFloat(currentValue);\r\n                if (currentValue === \"-\")\r\n                    this.state.buffer = \"-\";\r\n\r\n                if (parsedVal > this.props.max || parsedVal < this.props.min)\r\n                    console.log(\"zu gross oder klein\");\r\n                else\r\n                    setVal = currentValue;\r\n\r\n                break;\r\n        }\r\n\r\n\r\n        let lastChar = (\"\" + setVal).charAt(setVal.length - 1) || \"\";\r\n        let returnValue = setVal;\r\n        let precision = 1000;\r\n        if (_.isFinite(parseFloat(setVal)))\r\n            returnValue = Math.floor(parseFloat(setVal) * precision) / precision;\r\n\r\n        if (setVal === \"\" || setVal === \"-\" || lastChar === \".\" || lastChar === \",\")\r\n            returnValue = setVal;\r\n\r\n        console.log(\"returning \", {name: this.props.name, value: returnValue});\r\n        setTimeout(this.props.onChange, 1, {name: this.props.name, value: returnValue});\r\n    },\r\n    validateInput: function (event, v) {\r\n        let actionFilter = event.target.name;\r\n        let currentValue = event.target.value;\r\n\r\n        console.log(\"validate\", actionFilter, currentValue);\r\n\r\n        var setVal = this.props.value;\r\n        switch (actionFilter) {\r\n            case this.props.name:\r\n                let parsedVal = parseFloat(currentValue);\r\n                setVal = (_.isFinite(parsedVal)) ? parsedVal : null;\r\n\r\n                if (parsedVal > this.props.max)\r\n                    setVal = this.props.max;\r\n                break;\r\n\r\n            case DECREASE_VALUE:\r\n            case INCREASE_VALUE:\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    style: {\r\n        default: {\r\n            input: {\r\n                borderRadius: \"0px\",\r\n                textAlign: \"right\"\r\n            },\r\n            buttonLeft: {\r\n                borderTopRightRadius: \"0px\",\r\n                borderBottomRightRadius: \"0px\",\r\n                margin: \"0px\"\r\n            },\r\n            buttonRight: {\r\n                borderTopLeftRadius: \"0px\",\r\n                borderBottomLeftRadius: \"0px\",\r\n            }\r\n        },\r\n        circular: {\r\n            input: {\r\n                textAlign: \"right\"\r\n            },\r\n            buttonLeft: {\r\n                marginRight: \"3.5px\"\r\n            },\r\n            buttonRight: {\r\n                marginLeft: \"3.5px\"\r\n            }\r\n        }\r\n\r\n    },\r\n    render: function () {\r\n        //console.log(\"render\", this.props, this.state);\r\n        var style = (this.props.circular) ? this.style.circular : this.style.default;\r\n        var display = {circular: this.props.circular, basic: this.props.basic, compact: this.props.compact};\r\n        return (\r\n            <Input>\r\n                <Button {...display} type=\"button\" icon='minus' onClick={this.handleAction} name={DECREASE_VALUE}\r\n                        style={style.buttonLeft} disabled={(this.props.value <= this.props.min)}/>\r\n                <input type=\"text\" name={this.props.name} min={this.props.min} max={this.props.max}\r\n                       step={this.props.step}\r\n                       maxLength={this.props.maxLength} placeholder={this.props.placeholder} required={this.props.required}\r\n                       value={this.props.value}\r\n                       onChange={this.handleAction} onBlur={this.validateInput} style={style.input}/>\r\n                <Button {...display} type=\"button\" icon='plus' onClick={this.handleAction} name={INCREASE_VALUE}\r\n                        style={style.buttonRight} disabled={(this.props.value >= this.props.max)}/>\r\n            </Input>\r\n        );\r\n    }\r\n});\r\n\r\nexport default NumberPicker;"]}